<ul class="layout-menu">
    <ng-container *ngFor="let item of model; let i = index">
        <ng-container *ngIf="!item['hasRoles']; else roleBlock">
            <li app-menuitem *ngIf="!item.separator; else separatorBlock" [item]="item" [index]="i" [root]="true"></li>
            <ng-template #separatorBlock>
                <li class="menu-separator"></li>
            </ng-template>
        </ng-container>
        <ng-template #roleBlock>
            <ng-container *kaHasRoles="item['hasRoles']">
                <li app-menuitem *ngIf="!item.separator; else separatorBlock" [item]="item" [index]="i" [root]="true"></li>
                <ng-template #separatorBlock>
                    <li class="menu-separator"></li>
                </ng-template>
            </ng-container>
        </ng-template>
    </ng-container>
</ul>